<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KIT IN - Crée ton entreprise (cas pratique)</title>
  <link rel="stylesheet" href="style_final.css">
</head>
<body>

 <div class="Accueil">
    <img src="images/Fond1.png" alt="Image de fond de la page" class="backgroundA">
    
     <div class="tresor-button">
      <a href="menu.html" aria-label="Découvrir le KitIn">
        <img src="images/Tresor1.png" alt="Bouton Tresor">
      </a>
     </div>

     <video id="Video1" src="video/Video1.MOV" style="display:none;" controls></video>
 </div>

  <script>
    const tresorButton = document.querySelector('.tresor-button a');
    const Video1 = document.getElementById('Video1');

    tresorButton.addEventListener('click', function(event) {
      event.preventDefault(); // Empêche la redirection par défaut du lien
      tresorButton.style.display = 'none'; // Cache le bouton
      Video1.style.display = 'block'; // Affiche la vidéo
      Video1.play(); // Lance la lecture de la vidéo
      
      // Tenter de passer en plein écran
      if (Video1.requestFullscreen) {
        Video1.requestFullscreen();
      } else if (Video1.webkitRequestFullscreen) { // Safari
        Video1.webkitRequestFullscreen();
      } else if (Video1.msRequestFullscreen) { // IE/Edge
        Video1.msRequestFullscreen();
      }
    });

    Video1.addEventListener('ended', function() {
      // Sortir du plein écran si nécessaire
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
      window.location.href = 'menu.html'; // Redirige vers la nouvelle page après la fin de la vidéo
    });

    // Gérer la sortie du plein écran avec Escape
    document.addEventListener('fullscreenchange', function() {
      if (!document.fullscreenElement) {
        // Si on sort du plein écran avant la fin de la vidéo
        if (!Video1.ended) {
          Video1.pause();
          tresorButton.style.display = 'block'; // Réafficher le bouton
          Video1.style.display = 'none'; // Cacher la vidéo
        }
      }
    });
  </script>
</body>
</html>
